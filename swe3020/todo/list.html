<html>
<head></head>
<body>
    <style>
        ul{list-style:none}
    </style>
    <ul id = "list"></ul>
    <ul id = "tasklist"></ul>
    <input type="button" id = "button" value="+ 새 목록">
    <script
    src = "https://code.jquery.com/jquery-3.2.1.min.js"
    integrity = "sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>

    <script>
    $.get("https://dannyyeom.github.io/swe3020/todo/groupList.json",function(result, status){
        var arr = result.data;
        var list = "";
        console.log(result.data[0]);
        
        var groupPrint = function(gl,list){
            if(gl=null) return;
            list="";
            for(var i = 0; i<gl.length; i++){
                if (gl[i].icon=="home"){
                    list += '<li class = "addTask">'+ '<span style="color:' + gl[i].color + '">&#9750;</span>' + gl[i].name + " " + gl[i].count + "</li>"
                }else if(gl[i].icon=="sun"){
                    list += '<li class = "addTask">'+ '<span style="color:' + gl[i].color + '">&#9788;</span>' + gl[i].name + " " + gl[i].count + "</li>"
                }
                else{
                    list += '<li class = "addTask">'+ '<span style="color:' + gl[i].color + '">&#9776;</span>' + gl[i].name + " " + gl[i].count + "</li>"
                }
        }
        $('#list').html(list);
        }
    
        var taskPrint = function(gl,list,name){
            if(gl == null) return;
            list = ""
            for(var i = 0; i<gl.length; i++){
                if (arr[i].list == name){
                if (arr[i].check == true){
                list += "<li>" + '&#9745;' + " " + gl[i].name + "</li>" 
                }else{
                    list += "<li>" + '&#9744;' + " " + gl[i].name + "</li>"
                }
                }
                else{
                    continue;
                }
            }
            $('#tasklist').html(list);
        }


        var addGroup(function(){
            $('#button').click(function(){
                var newList, addList;
                newList = '제목 없는 목록';
                addList = prompt('새 목록', newList)        
            })
            arr[arr.length] = { 
            "id": arr.length, 
            "name": a , 
            "color": "blue", 
            "icon": "list", 
            "count": 0
            }
        list = ""
        groupPrint(arr, list);
            });
        
        });
        groupPrint(arr, list);
        addGroup();
        moretask = function(){
             $('.addTask').click(function(){
                $.get("https://dannyyeom.github.io/swe3020/todo/taskList.json", function(result, status){
                    tasklist = ""
                    taskPrint(result.data, tasklist, li[i].name);
                 });
                });
        }
        moretask();

 
        </script>
</body>
</html>